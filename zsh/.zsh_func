remove_container() {
    log=$(docker ps -a | grep $2) 1> /dev/null 2>&1
    if [[ $log == *"Up "* ]]; then
        read -q "REPLY?There is working container. Proceed?[y/n]" || return
        (docker kill $2 && docker rm $2) 1> /dev/null 2>&1
    elif [[ $log == *"Exited "* ]]; then
        docker rm $2 1> /dev/null 2>&1
    fi
}

pwn-container() {
    containers=("20.04" "22.04" "mantic")
    remove_container $1 $2
    echo "pwn-img:${containers[$3]}"
    docker run --rm -d -it --name $2 --mount type=bind,source="/home/user/me/ctf/$1/$2",target="/home/user/ctf/" "pwn-img:${containers[$3]}" 1> /dev/null 2>&1
    pwn-exec $2
}

pwn-exec() {
    docker exec --detach-keys "ctrl-x,x" -it $1 bash
}

cl() {
    cd $1 && ll
}

pomodoro() {
    countdown 45m && mute
    countdown 10m && unmute
}
